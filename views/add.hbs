{{> header}}
<script>
    function setText() {
        let number = parseInt($("input[name='number']").val());
        $(".textboxes").html();
        let str='';
        for (let i = 0; i < number; i++) {
            str += '<div class="form-group"><label for= "' + i + '"> Email</label><input type="text" class="form-control" id="' + i + '" placeholder="Enter the email ID" name="email"></div>';
        }
        $(".textboxes").html(str);
    }
</script>
<div class="container">
    <br><br><br><br>
    <center><h2>Schedule an Interview</h2></center>
    {{#if data}}
        
        <form method="POST" action="/add">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="type" id="type" value="0" checked>
                <label class="form-check-label" for="type">
                    Audio
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="type" id="type2" value="1">
                <label class="form-check-label" for="type2">
                    Video
                </label>
            </div>
            <div class="form-group">
                <label for="time">Time</label>
                <input type="datetime-local" class="form-control" id="time" placeholder="Time of Interview" name="time" value="{{#each data}}{{this.time}}{{/each}}">
            </div>
            <div class="form-group">
                <label for="number">Time</label>
                <input type="text" class="form-control" id="number"
                    placeholder="Enter the number of the candidates and press tab" name="number" onfocusout="setText();"value="{{#each data}}{{this.number}}{{/each}}">
            </div>
            <div class="textboxes">
            </div>
            <center><button type="submit" class="btn btn-primary">Submit</button></center>
        </form>
        <script>
            function setText() {
                let number = '{{#each data}}{{this.number}}{{/each}}';
                let data = '{{#each data}}{{this.candidates}}{{/each}}';
                console.log(data);
                $(".textboxes").html();
                let str = '';
                for (let i = 0; i < number; i++) {
                    str += '<div class="form-group"><label for= "' + i + '"> Email</label><input type="text" class="form-control" id="' + i + '" placeholder="Enter the email ID" name="email" value="data"></div>';
                }
                $(".textboxes").html(str);
            }
            setText();
        </script>
    {{else}}
        <form method="POST" action="/add">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="type" id="type" value="0" checked>
                <label class="form-check-label" for="type">
                    Audio
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="type" id="type2" value="1">
                <label class="form-check-label" for="type2">
                    Video
                </label>
            </div>
            <div class="form-group">
                <label for="time">Time</label>
                <input type="datetime-local" class="form-control" id="time" placeholder="Time of Interview" name="time">
            </div>
            <div class="form-group">
                <label for="number">Time</label>
                <input type="text" class="form-control" id="number"
                    placeholder="Enter the number of the candidates and press tab" name="number" onfocusout="setText();">
            </div>
            <div class="textboxes">
        
            </div>
            <center><button type="submit" class="btn btn-primary">Submit</button></center>
        </form>
    {{/if}}
    <br><br>
</div>

{{> footer}}